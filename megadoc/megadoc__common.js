!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.megadoc__common=t():e.megadoc__common=t()}(this,function(){return webpackJsonp_megadoc([2],{0:function(e,t,n){"use strict";e.exports={classnames:n(37),"dom-contains":n(38),"fuzzaldrin-plus":n(53),lodash:n(10),moment:n(51),react:n(1),"react-dom":n(12),"react-transclusion":n(15),urijs:n(75),"components/AnchorableHeading":n(150),"components/Button":n(77),"components/Checkbox":n(151),"components/CollapsibleGroup":n(152),"components/ConfigReceiver":n(35),"components/CorpusReceiver":n(153),"components/Disqus":n(154),"components/Document":n(78),"components/ErrorMessage":n(45),"components/Footer":n(79),"components/Heading":n(80),"components/HeadingAnchor":n(81),"components/HighlightedText":n(155),"components/HotItemIndicator":n(156),"components/Icon":n(18),"components/IndexTable":n(157),"components/Link":n(28),"components/MarkdownText":n(82),"components/NotFound":n(83),"components/Outlet":n(84),"components/Radio":n(158),"components/SidebarHeader":n(85),"components/Sticky":n(86),"components/TwoColumnLayout":n(87),"core/AppState":n(88),"core/CorpusAPI":n(29),"core/DocumentURI":n(22),"core/EventEmitter":n(46),"core/megadoc":n(159),"core/MetaDescriptionManager":n(89),"core/Router":n(90),"core/Storage":n(47),"core/TitleManager":n(91),"core/TokenSearcher":n(92),"mixins/Collapsible":n(93),"mixins/HasMetaDescription":n(160),"mixins/HasTitle":n(161),"mixins/JumperMixin":n(162),"utils/classSet":n(13),"utils/findChildByType":n(49),"utils/invariant":n(17),"utils/resizable":n(94),"utils/resolvePathname":n(50),"utils/scrollIntoView":n(95),"utils/scrollToTop":n(96)}},80:function(e,t,n){"use strict";var o=n(1),r=n(10),s=r.omit,i=o.PropTypes,a=i.string,l=i.number,c=i.oneOfType,p=1,u=1,d=o.createClass({displayName:"Heading",statics:{setStartingLevel:function(e){u=p,p=e},restoreStartingLevel:function(){p=u,u=1}},propTypes:{parentLevel:c([a,l]),level:c([a,l])},getDefaultProps:function(){return{parentLevel:1}},render:function(){var e=Math.min(6,parseInt(this.props.parentLevel||p,10)+parseInt(this.props.level,10)-1),t="h"+e;return o.createElement(t,s(this.props,["parentLevel","level"]))}});e.exports=d},81:function(e,t,n){"use strict";function o(e){e.stopPropagation()}var r=n(1),s=n(13),i=r.PropTypes,a=i.string,l=i.bool,c=i.node;t.Anchor=r.createClass({displayName:"HeadingAnchor.Anchor",propTypes:{href:a},render:function(){return r.createElement("a",{name:this.props.href,className:"anchorable-heading__anchor"})}}),t.Text=r.createClass({displayName:"HeadingAnchor.Text",propTypes:{children:c.isRequired},render:function(){var e=r.Children.count(this.props.children)>1;if(e)return r.createElement("span",{className:"anchorable-heading__text",children:this.props.children});var t=r.Children.only(this.props.children);return r.cloneElement(t,{className:s(t.props.className,{"anchorable-heading__text":!0})})}}),t.Link=r.createClass({displayName:"HeadingAnchor.Link",propTypes:{href:a,className:a,trailing:l},render:function(){var e=s(this.props.className,{"anchorable-heading__link":!0,"anchorable-heading__link--trailing":Boolean(this.props.trailing),icon:!0,"icon-link":!0});return r.createElement("a",{className:e,href:"#"+this.props.href,onClick:o})}})},84:function(e,t,n){"use strict";var o=n(15),r=o.Outlet;e.exports=r},89:function(e,t,n){"use strict";function o(e){var t=r()||"";return a(e instanceof Function,"You must provide a meta description generator function to MetaDescriptionManager, got "+("undefined"==typeof e?"undefined":i(e))+"."),{update:function(){var t=e.apply(null,arguments);return!(!t||t===r()||(s(t),0))},restore:function(){if(t!==r())return s(t),!0}}}function r(){return document.querySelector('meta[name="description"]').content}function s(e){document.querySelector('meta[name="description"]').content=e}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(17);e.exports=o},91:function(e,t,n){"use strict";function o(e,t){var n,i=t.defaultTitle;return s(e instanceof Function,"You must provide a title generator function to TitleManager, got "+("undefined"==typeof e?"undefined":r(e))+"."),{update:function(){var t=e.apply(null,arguments);return!(!t||t===document.title||(n||(n=document.title),document.title=t+" - "+i,0))},restore:function(){if(n&&n!==document.title)return setTimeout(function(){document.title=n},o.TIMEOUT),!0}}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(17);o.TIMEOUT=2,e.exports=o},93:function(e,t,n){"use strict";var o=n(1),r=n(18),s={propTypes:{collapsible:o.PropTypes.bool,expanded:o.PropTypes.bool},getDefaultProps:function(){return{collapsible:!0}},getInitialState:function(){return{collapsed:!1}},componentWillReceiveProps:function(e){e.expanded&&this.state.collapsed&&this.setState({collapsed:!1})},expand:function(){this.state.collapsed&&this.setState({collapsed:!1})},renderCollapser:function(){return this.isCollapsible()?o.createElement(r,{className:"collapser collapsible__icon icon-arrow-down"}):null},isCollapsed:function(){return this.isCollapsible()&&!this.props.expanded&&this.state.collapsed},isCollapsible:function(){return!!this.props.collapsible},toggleCollapsed:function(){this.isCollapsible()&&this.setState({collapsed:!this.state.collapsed})}};e.exports=s},95:function(e,t){"use strict";function n(e,t){function n(){l+=a,e.scrollTop=o(l,s,i,r),r>0&&l<r&&setTimeout(n,a)}var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,s=e.scrollTop,i=t-s,a=20,l=0;n()}function o(e,t,n,o){return e/=o/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)}e.exports=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e.offsetTop+o,s=!1;t.scrollTop>r?s=!0:t.scrollTop+t.offsetHeight<r&&(s=!0),s&&n(t,r,500)}},150:function(e,t,n){"use strict";var o=n(1),r=n(81),s=n(13),i=o.PropTypes,a=i.string,l=i.node,c=i.bool,p=i.oneOfType,u=i.number,d=o.createClass({displayName:"AnchorableHeading",propTypes:{href:a.isRequired,children:l.isRequired,withLink:c,level:p([u,a]).isRequired,className:a},getDefaultProps:function(){return{withLink:!0}},render:function(){var e="h"+this.props.level;return o.createElement(e,{className:s(this.props.className,{"anchorable-heading":!0})},o.createElement(r.Anchor,{href:this.props.href}),this.props.withLink&&o.createElement(r.Link,{href:this.props.href}),o.createElement(r.Text,{children:this.props.children}))}});e.exports=d},151:function(e,t,n){"use strict";var o=n(1),r=o.PropTypes,s=r.bool,i=r.string,a=r.func,l=r.any,c=o.createClass({displayName:"Checkbox",propTypes:{checked:s,value:i,onChange:a,children:l},render:function(){return o.createElement("label",{className:"checkbox"},o.createElement("input",{type:"checkbox",className:"checkbox__indicator",checked:this.props.checked,value:this.props.value,onChange:this.props.onChange}),this.props.children)}});e.exports=c},152:function(e,t,n){"use strict";var o=n(1),r=n(93),s=n(13),i=n(49),a=n(80),l=n(18),c=o.PropTypes,p=c.oneOfType,u=c.number,d=c.string,m=c.any,h=c.func,f=o.createClass({displayName:"CollapsibleGroup",mixins:[r],propTypes:{tagName:d,className:d,children:m},getDefaultProps:function(){return{tagName:"div"}},render:function(){var e=this.props.tagName,t=this.isCollapsed(),n=s({collapsible:this.isCollapsible(),"collapsible--collapsed":t});return o.createElement(e,{className:n+" "+(this.props.className||"")},this.renderHeading(),!t&&this.renderBody())},renderHeading:function(){var e=i(this.props.children,f.Heading);return e?o.cloneElement(e,{onClick:this.toggleCollapsed},e.props.children):null},renderBody:function(){return i(this.props.children,f.Body)}});f.Heading=o.createClass({displayName:"Heading",propTypes:{level:p([d,u]),onClick:h,children:m},getDefaultProps:function(){return{level:"4"}},render:function(){return o.createElement(a,{level:this.props.level,className:"collapsible-header",onClick:this.props.onClick,children:this.props.children})}}),f.Collapser=o.createClass({displayName:"Collapser",render:function(){return o.createElement(l,{className:"collapser icon-arrow-down"})}}),f.Body=o.createClass({displayName:"Body",render:function(){return o.createElement("div",this.props)}}),e.exports=f},153:function(e,t,n){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(1),s=n(29),i=r.PropTypes,a=function(e){return r.createClass({contextTypes:{corpus:i.instanceOf(s).isRequired},render:function(){return r.createElement(e,o({corpus:this.context.corpus},this.props))}})};e.exports=a},154:function(e,t,n){"use strict";function o(e){return e.replace(/(_.{1})/g,function(e){return e[1].toUpperCase()})}var r=n(1),s=r.DOM,i=["shortname","identifier","title","url","category_id"],a=!1,l=r.createClass({displayName:"DisqusThread",propTypes:{shortname:r.PropTypes.string.isRequired,identifier:r.PropTypes.string,title:r.PropTypes.string,url:r.PropTypes.string,categoryId:r.PropTypes.string},getDefaultProps:function(){return{shortname:null,identifier:null,title:null,url:null,categoryId:null}},addDisqusScript:function(){if(!a){var e=this.disqus=document.createElement("script"),t=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0];e.async=!0,e.type="text/javascript",e.src="//"+this.props.shortname+".disqus.com/embed.js",t.appendChild(e),a=!0}},removeDisqusScript:function(){this.disqus&&this.disqus.parentNode&&(this.disqus.parentNode.removeChild(this.disqus),this.disqus=null)},componentDidMount:function(){this.props.identifier&&this.loadDisqus()},componentDidUpdate:function(e){this.props.identifier!==e.identifier&&this.loadDisqus()},loadDisqus:function(){var e=this.props;i.filter(function(t){return!!e[o(t)]}).forEach(function(t){window["disqus_"+t]=e[o(t)]}),"undefined"!=typeof DISQUS?DISQUS.reset({reload:!0}):this.addDisqusScript()},componentWillUnmount:function(){this.removeDisqusScript()},render:function(){return s.div(this.props,s.div({id:"disqus_thread"}),s.noscript(null,s.span(null,"Please enable JavaScript to view the ",s.a({href:"http://disqus.com/?ref_noscript"},"comments powered by Disqus."))),s.a({href:"http://disqus.com",className:"dsq-brlink"},"blog comments powered by ",s.span({className:"logo-disqus"},"Disqus")))}}),c=r.createClass({displayName:"Disqus",propTypes:{identifier:r.PropTypes.string,title:r.PropTypes.string,categoryId:r.PropTypes.string,pathname:r.PropTypes.string.isRequired,config:r.PropTypes.shape({enabled:r.PropTypes.bool,shortname:r.PropTypes.string,baseUrl:r.PropTypes.string})},render:function(){var e=this.props.config,t=this.props.pathname;return!t||this.isDisabled()?null:r.createElement(l,{shortname:e.shortname,identifier:this.props.identifier,title:this.props.title||document.title,url:e.baseUrl+"/"+t,categoryId:this.props.categoryId})},isDisabled:function(){return!this.props.config||this.props.config.enabled===!1}});e.exports=c},155:function(e,t,n){"use strict";var o=n(1),r=o.PropTypes,s=r.any,i=r.string,a=r.bool,l=o.createClass({displayName:"HighlightedText",propTypes:{children:s,className:i,unsafe:a},render:function(){return this.props.unsafe?o.createElement("div",{className:"highlighted-text "+(this.props.className||""),children:this.props.children}):o.createElement("div",{className:"highlighted-text "+(this.props.className||""),dangerouslySetInnerHTML:{__html:this.props.children}})}});e.exports=l},156:function(e,t,n){"use strict";function o(e,t){var n=s().subtract(e.count,e.interval),o=s(new Date(1e3*t));return!o.isBefore(n)}var r=n(1),s=n(51),i=n(18),a=n(35),l=r.PropTypes,c={hotness:l.shape({count:l.number,interval:l.string})},p=r.createClass({displayName:"HotItemIndicator",propTypes:{config:l.shape(c).isRequired,timestamp:l.string.isRequired},render:function(){return o(this.props.config.hotness||{},this.props.timestamp)?r.createElement(i,{title:"This item is hot! It has been edited recently.",className:"icon-fire hot-item-indicator"}):null}});e.exports=a(p,c)},157:function(e,t,n){"use strict";var o=n(1),r=o.PropTypes.node;t.Table=o.createClass({displayName:"IndexTable.Table",propTypes:{children:r},render:function(){return o.createElement("table",{className:"index-table"},o.createElement("tbody",null,this.props.children))}}),t.Row=o.createClass({displayName:"IndexTable.Row",propTypes:{children:r},render:function(){return o.createElement("tr",{className:"index-table__row"},this.props.children)}}),t.Column=o.createClass({displayName:"IndexTable.Column",propTypes:{children:r},render:function(){return o.createElement("td",{className:"index-table__column"},this.props.children)}})},158:function(e,t,n){"use strict";var o=n(1),r=o.PropTypes,s=r.bool,i=r.string,a=r.func,l=r.any,c=o.createClass({displayName:"Radio",propTypes:{checked:s,value:i,onChange:a,children:l,className:i,name:i},render:function(){return o.createElement("label",{className:(this.props.className||"")+" radio"},o.createElement("input",{type:"radio",className:"radio__indicator",checked:this.props.checked,name:this.props.name,value:this.props.value,onChange:this.props.onChange}),this.props.children)}});e.exports=c},159:function(e,t,n){"use strict";var o=n(84),r=n(29);e.exports=function(e){function t(){s.use=function(){console.warn("You are attempting to call 'megadoc.use()' after all plugins were loaded. This probably means you forgot to register your script as a plugin script.")},a.forEach(function(e){e()})}function n(n,o){var r=[];1===arguments.length?(o=n,n=o.name,r=[p]):r=[p,c.getNamespacesForPlugin(n).map(function(e){return e.config})];try{console.log('Loading "%s".',o.name),o.apply(null,r)}catch(s){console.error("A plugin (%s) failed to load, it will be ignored.",o.name),console.error(s.stack||s)}finally{console.log('Plugin "%s" has been loaded - %d remain.',o.name,e.pluginCount-l-1),++l===e.pluginCount&&(console.log("All %d/%d plugins have been loaded, no more may be loaded from now on.",l,e.pluginCount),t())}}var s={},i=[],a=[],l=0,c=r(e.database||[],{redirect:e.redirect}),p={outlets:o,corpus:c,registerPreviewHandler:function(e){i.push(e)}};return s.use=function(e,t){var o=2===arguments.length;setTimeout(function(){o?n(e,t):n(e)},0)},s.useTheme=function(n,o){setTimeout(function(){try{console.log('Loading theme plugin "%s".',n),o(p,e.themeOptions||{})}catch(r){console.error("A plugin (%s) failed to load, it will be ignored.",n),console.error(r.stack||r)}finally{console.log('Plugin "%s" has been loaded - %d remain.',n,e.pluginCount-l-1),++l===e.pluginCount&&(console.log("All %d/%d plugins have been loaded, no more may be loaded from now on.",l,e.pluginCount),t())}},0)},s.getPreviewHandlers=function(){return i},s.onReady=function(t){console.log("Will start as soon as %d plugins are loaded.",e.pluginCount-l),l===e.pluginCount?t():a.push(t)},s.corpus=c,s.regenerateCorpus=function(e){s.corpus=c=r(e)},s}},160:function(e,t,n){"use strict";var o=n(89),r=function(e){return e};e.exports=function(e){var t=void 0;return"string"==typeof e&&(e=r.bind(null,e)),{componentWillMount:function(){t=o(e.bind(this))},componentDidMount:function(){t.update()},componentDidUpdate:function(){t.update()},componentWillUnmount:function(){t.restore(),t=null}}}},161:function(e,t,n){"use strict";var o=n(91),r=n(1),s=r.PropTypes,i=function(e){return e};e.exports=function(e){var t;return"string"==typeof e&&(e=i.bind(null,e)),{contextTypes:{config:s.shape({title:s.string}).isRequired},componentWillMount:function(){t=new o(e.bind(this),{defaultTitle:this.context.config.title})},componentDidMount:function(){t.update()},componentDidUpdate:function(){t.update()},componentWillUnmount:function(){t.restore(),t=null}}}},162:function(e,t,n){"use strict";function o(e,t){function n(n,r){var a=e.call(n,r);return a!==!1&&(a?(i(s(a),document.querySelector(o),t),!0):(console.warn("Unable to jump to element; node not found."),!1))}var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;return{componentDidMount:function(){n(this,this.props)},componentDidUpdate:function(){n(this,this.props)}}}var r=n(12),s=r.findDOMNode,i=n(95),a=".resizable-panel__content";o.SIDEBAR_SELECTOR=a,e.exports=o}})});