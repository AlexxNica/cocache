exports["megadoc-plugin-markdown"]=function(e){function n(t){if(r[t])return r[t].exports;var o=r[t]={exports:{},id:t,loaded:!1};return e[t].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var r={};return n.m=e,n.c=r,n.p="",n(0)}([function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(1);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** multi main\n ** module id = 0\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///multi_main?")},function(module,exports,__webpack_require__){eval("'use strict';\n\nvar Storage = __webpack_require__(2);\nvar K = __webpack_require__(3);\nStorage.register(K.CFG_CLASS_BROWSER_GROUP_BY_FOLDER, true);\n\nvar BrowserOutlet = __webpack_require__(4);\nvar DocumentOutlet = __webpack_require__(15);\nvar DocumentTOCOutlet = __webpack_require__(19);\n\nmodule.exports = {\n  name: 'megadoc-plugin-lua',\n  outlets: ['Markdown::Document', 'Markdown::DocumentTOC', 'Markdown::Browser'],\n\n  outletOccupants: [{\n    name: 'Markdown::Document',\n    component: DocumentOutlet\n  }, {\n    name: 'Markdown::DocumentTOC',\n    component: DocumentTOCOutlet,\n    match: DocumentTOCOutlet.match\n  }, {\n    name: 'Markdown::Browser',\n    component: BrowserOutlet\n  }]\n};\n\n/*****************\n ** WEBPACK FOOTER\n ** ./packages/megadoc-plugin-markdown/ui/index.js\n ** module id = 1\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./packages/megadoc-plugin-markdown/ui/index.js?")},function(module,exports){eval('module.exports = MEGADOC_PUBLIC_MODULES["core/Storage"];\n\n/*****************\n ** WEBPACK FOOTER\n ** external "MEGADOC_PUBLIC_MODULES[\\"core/Storage\\"]"\n ** module id = 2\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///external_%22MEGADOC_PUBLIC_MODULES%5B\\%22core/Storage\\%22%5D%22?')},function(module,exports){eval("'use strict';\n\nexports.CFG_CLASS_BROWSER_GROUP_BY_FOLDER = 'markdown:classBrowser:groupByFolder';\nexports.ROOT_FOLDER_ID = 'root';\n\n/*****************\n ** WEBPACK FOOTER\n ** ./packages/megadoc-plugin-markdown/ui/shared/constants.js\n ** module id = 3\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./packages/megadoc-plugin-markdown/ui/shared/constants.js?")},function(module,exports,__webpack_require__){eval("'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = __webpack_require__(5);\nvar Browser = __webpack_require__(6);\nvar _React$PropTypes = React.PropTypes,\n    object = _React$PropTypes.object,\n    shape = _React$PropTypes.shape,\n    bool = _React$PropTypes.bool;\n\n\nmodule.exports = React.createClass({\n  displayName: 'exports',\n\n  propTypes: {\n    namespaceNode: object,\n    $outletOptions: shape({\n      flat: bool\n    })\n  },\n\n  render: function render() {\n    return React.createElement(Browser, _extends({}, this.props, { flat: this.props.$outletOptions.flat }));\n  }\n});\n\n/*****************\n ** WEBPACK FOOTER\n ** ./packages/megadoc-plugin-markdown/ui/outlets/BrowserOutlet.js\n ** module id = 4\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./packages/megadoc-plugin-markdown/ui/outlets/BrowserOutlet.js?")},function(module,exports){eval('module.exports = MEGADOC_PUBLIC_MODULES["react"];\n\n/*****************\n ** WEBPACK FOOTER\n ** external "MEGADOC_PUBLIC_MODULES[\\"react\\"]"\n ** module id = 5\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///external_%22MEGADOC_PUBLIC_MODULES%5B\\%22react\\%22%5D%22?')},function(module,exports,__webpack_require__){eval("'use strict';\n\nvar React = __webpack_require__(5);\nvar Link = __webpack_require__(7);\nvar HotItemIndicator = __webpack_require__(8);\nvar Storage = __webpack_require__(2);\nvar GROUP_BY_FOLDER = __webpack_require__(3).CFG_CLASS_BROWSER_GROUP_BY_FOLDER;\n\nvar _require = __webpack_require__(3),\n    ROOT_FOLDER_ID = _require.ROOT_FOLDER_ID;\n\nvar ArticleTOC = __webpack_require__(9);\nvar object = React.PropTypes.object;\n\n\nvar Browser = React.createClass({\n  displayName: 'Browser',\n\n  propTypes: {\n    namespaceNode: object,\n    documentNode: object,\n    documentEntityNode: object,\n    expanded: React.PropTypes.bool,\n    flat: React.PropTypes.bool\n  },\n\n  render: function render() {\n    var namespaceNode = this.props.namespaceNode;\n\n\n    return React.createElement(\n      'nav',\n      null,\n      React.createElement(\n        'div',\n        null,\n        Array.isArray(namespaceNode.config.folders) && namespaceNode.config.folders.length > 0 ? FolderHierarchy(namespaceNode).map(this.renderFolder) : namespaceNode.documents.map(this.renderArticle)\n      )\n    );\n  },\n  renderFolders: function renderFolders(folders) {\n    return React.createElement(\n      'div',\n      null,\n      folders.map(this.renderFolder)\n    );\n  },\n  renderFolder: function renderFolder(folder) {\n    var documents = folder.documents;\n\n\n    return React.createElement(\n      'div',\n      { key: folder.path, className: 'class-browser__category' },\n      React.createElement(\n        'h3',\n        { className: 'class-browser__category-name' },\n        folder.title === '.' ? '/' : folder.title\n      ),\n      React.createElement(\n        'div',\n        null,\n        documents.map(this.renderArticle)\n      )\n    );\n  },\n  renderArticle: function renderArticle(documentNode) {\n    var article = documentNode.properties;\n    var isActive = this.props.documentNode === documentNode || this.props.expanded;\n    var title = article.title || '';\n\n    if (Storage.get(GROUP_BY_FOLDER) && article.folderTitle !== ROOT_FOLDER_ID && article.folderTitle !== '.') {\n\n      if (title.indexOf(article.folderTitle + '/') === 0) {\n        title = title.substr(article.folderTitle.length + 1 /* '/' */);\n      }\n    }\n\n    return React.createElement(\n      'div',\n      { key: documentNode.uid },\n      React.createElement(\n        Link,\n        { to: documentNode, className: 'class-browser__entry-link' },\n        article.plainTitle,\n        documentNode.meta.gitStats && React.createElement(HotItemIndicator, { timestamp: documentNode.meta.gitStats.lastCommittedAt })\n      ),\n      isActive && !this.props.flat && this.renderTOC(documentNode)\n    );\n  },\n  renderTOC: function renderTOC(documentNode) {\n    return React.createElement(ArticleTOC, { documentNode: documentNode });\n  }\n});\n\nfunction FolderHierarchy(namespaceNode) {\n  var _require2 = __webpack_require__(13),\n      assign = _require2.assign,\n      findWhere = _require2.findWhere,\n      sortBy = _require2.sortBy;\n\n  var strHumanize = __webpack_require__(14);\n  var config = namespaceNode.config,\n      documents = namespaceNode.documents;\n\n  var folders = {};\n\n  sortBy(documents, 'title').forEach(function (documentNode) {\n    var folderPath = documentNode.properties.folder;\n\n    if (!(folderPath in folders)) {\n      folders[folderPath] = createFolderConfig(folderPath);\n    }\n\n    folders[folderPath].documents.push(documentNode);\n  });\n\n  for (var folderPath in folders) {\n    var folder = folders[folderPath];\n\n    if (folder.series) {\n      folder.documents = sortBy(folder.documents, 'properties.fileName');\n    }\n\n    // README always comes first\n    folder.documents = sortBy(folder.documents, function (a) {\n      if (a.properties.fileName === 'README') {\n        return -1;\n      } else {\n        return 1;\n      }\n    });\n  }\n\n  // TODO: can we please do this at compile-time instead??\n  //\n  // no we can't, zip it\n  function createFolderConfig(folderPath) {\n    var folderConfig = findWhere(config.folders, { path: folderPath });\n    var folder = assign({}, folderConfig, {\n      path: folderPath,\n      documents: []\n    });\n\n    // generate a title\n    if (!folder.title) {\n      if (config.fullFolderTitles) {\n        folder.title = folderPath.replace(config.commonPrefix, '').split('/').map(strHumanize).join(config.fullFolderTitleDelimiter);\n      } else {\n        var fragments = folderPath.split('/');\n        folder.title = strHumanize(fragments[fragments.length - 1]);\n      }\n    }\n\n    return folder;\n  }\n\n  return sortBy(Object.keys(folders).map(function (x) {\n    return folders[x];\n  }), 'title');\n}\n\nmodule.exports = Browser;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./packages/megadoc-plugin-markdown/ui/components/Browser.js\n ** module id = 6\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./packages/megadoc-plugin-markdown/ui/components/Browser.js?")},function(module,exports){eval('module.exports = MEGADOC_PUBLIC_MODULES["components/Link"];\n\n/*****************\n ** WEBPACK FOOTER\n ** external "MEGADOC_PUBLIC_MODULES[\\"components/Link\\"]"\n ** module id = 7\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///external_%22MEGADOC_PUBLIC_MODULES%5B\\%22components/Link\\%22%5D%22?')},function(module,exports){eval('module.exports = MEGADOC_PUBLIC_MODULES["components/HotItemIndicator"];\n\n/*****************\n ** WEBPACK FOOTER\n ** external "MEGADOC_PUBLIC_MODULES[\\"components/HotItemIndicator\\"]"\n ** module id = 8\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///external_%22MEGADOC_PUBLIC_MODULES%5B\\%22components/HotItemIndicator\\%22%5D%22?')},function(module,exports,__webpack_require__){eval("'use strict';\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar React = __webpack_require__(5);\nvar Link = __webpack_require__(7);\nvar Icon = __webpack_require__(10);\nvar classSet = __webpack_require__(11);\nvar SectionTree = __webpack_require__(12);\n\nvar _require = __webpack_require__(13),\n    assign = _require.assign;\n\nvar ArticleTOC = React.createClass({\n  displayName: 'ArticleTOC',\n\n  propTypes: {\n    documentNode: React.PropTypes.object,\n    documentEntityNode: React.PropTypes.object,\n    flat: React.PropTypes.bool,\n    grouped: React.PropTypes.bool\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      collapsed: {}\n    };\n  },\n  getDefaultProps: function getDefaultProps() {\n    return {\n      flat: false\n    };\n  },\n  render: function render() {\n    var sections = SectionTree(this.props.documentNode);\n    var rootSections = sections.filter(function (x) {\n      return x.root;\n    });\n\n    if (!rootSections.length) {\n      return null;\n    }\n\n    if (this.props.grouped) {\n      return React.createElement(\n        'ul',\n        { className: 'markdown-toc markdown-toc--flat' },\n        this.renderNodeInBranch(sections, rootSections[0].node)\n      );\n    }\n\n    return React.createElement(\n      'div',\n      null,\n      rootSections.map(this.renderTree.bind(null, sections))\n    );\n  },\n  renderTree: function renderTree(tree, branch) {\n    if (!branch.children.length) {\n      return null;\n    }\n\n    return React.createElement(\n      'ul',\n      {\n        key: branch.node.uid,\n        className: classSet(\"markdown-toc\", {\n          \"markdown-toc--flat\": this.props.flat && branch.root\n        })\n      },\n      branch.children.map(this.renderNodeInBranch.bind(null, tree))\n    );\n  },\n  renderNodeInBranch: function renderNodeInBranch(tree, node) {\n    var children = tree.filter(function (x) {\n      return x.node.uid === node.uid;\n    })[0];\n    var collapsed = this.state.collapsed[node.uid];\n\n    return React.createElement(\n      'li',\n      {\n        key: node.uid,\n        className: classSet({\n          'markdown-toc__entry': true,\n          'markdown-toc__entry--collapsible': !!children,\n          'markdown-toc__entry--collapsed': collapsed\n        })\n      },\n      children && React.createElement(Icon, {\n        className: classSet({\n          \"icon-arrow-down\": collapsed,\n          \"icon-arrow-right\": !collapsed\n        }),\n        onClick: this.collapse.bind(null, node.uid)\n      }),\n      React.createElement(Link, { to: node, children: node.properties.text }),\n      children && !collapsed && this.renderTree(tree, children)\n    );\n  },\n  collapse: function collapse(key) {\n    this.setState({\n      collapsed: assign({}, this.state.collapsed, _defineProperty({}, key, !this.state.collapsed[key]))\n    });\n  }\n});\n\nmodule.exports = ArticleTOC;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./packages/megadoc-plugin-markdown/ui/components/ArticleTOC.js\n ** module id = 9\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./packages/megadoc-plugin-markdown/ui/components/ArticleTOC.js?")},function(module,exports){eval('module.exports = MEGADOC_PUBLIC_MODULES["components/Icon"];\n\n/*****************\n ** WEBPACK FOOTER\n ** external "MEGADOC_PUBLIC_MODULES[\\"components/Icon\\"]"\n ** module id = 10\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///external_%22MEGADOC_PUBLIC_MODULES%5B\\%22components/Icon\\%22%5D%22?')},function(module,exports){eval('module.exports = MEGADOC_PUBLIC_MODULES["utils/classSet"];\n\n/*****************\n ** WEBPACK FOOTER\n ** external "MEGADOC_PUBLIC_MODULES[\\"utils/classSet\\"]"\n ** module id = 11\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///external_%22MEGADOC_PUBLIC_MODULES%5B\\%22utils/classSet\\%22%5D%22?')},function(module,exports){eval('"use strict";\n\nmodule.exports = function (documentNode) {\n  var tree = documentNode.entities.reduce(function (map, x, i) {\n    var myLevel = x.properties.level;\n    var parents = documentNode.entities.slice(0, i).filter(function (y) {\n      return y.properties.level < myLevel;\n    });\n    var closestParent = void 0;\n\n    parents.forEach(function (y) {\n      if (!closestParent || y.properties.level >= closestParent.properties.level) {\n        closestParent = y;\n      }\n    });\n\n    if (closestParent) {\n      map[closestParent.uid] = map[closestParent.uid] || {\n        node: closestParent,\n        children: []\n      };\n\n      map[closestParent.uid].children.push(x);\n    } else {\n      map[x.uid] = map[x.uid] || { root: true, node: x, children: [] };\n    }\n\n    return map;\n  }, {});\n\n  return Object.keys(tree).map(function (x) {\n    return tree[x];\n  }).sort(function (a, b) {\n    if (a.node.properties.level > b.node.properties.level) {\n      return 1;\n    } else {\n      return -1;\n    }\n  });\n};\n\n/*****************\n ** WEBPACK FOOTER\n ** ./packages/megadoc-plugin-markdown/ui/SectionTree.js\n ** module id = 12\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./packages/megadoc-plugin-markdown/ui/SectionTree.js?')},function(module,exports){eval('module.exports = MEGADOC_PUBLIC_MODULES["lodash"];\n\n/*****************\n ** WEBPACK FOOTER\n ** external "MEGADOC_PUBLIC_MODULES[\\"lodash\\"]"\n ** module id = 13\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///external_%22MEGADOC_PUBLIC_MODULES%5B\\%22lodash\\%22%5D%22?')},function(module,exports){eval("'use strict';\n\nmodule.exports = function (str) {\n  return str.replace(/[_-]/g, ' ').replace(/(\\w+)/g, function (match) {\n    return match.charAt(0).toUpperCase() + match.slice(1);\n  });\n};\n\n/*****************\n ** WEBPACK FOOTER\n ** ./packages/megadoc-plugin-markdown/lib/utils/strHumanize.js\n ** module id = 14\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./packages/megadoc-plugin-markdown/lib/utils/strHumanize.js?")},function(module,exports,__webpack_require__){eval("'use strict';\n\nvar React = __webpack_require__(5);\nvar Article = __webpack_require__(16);\nvar object = React.PropTypes.object;\n\n\nmodule.exports = React.createClass({\n  displayName: 'exports',\n\n  propTypes: {\n    documentNode: object\n  },\n\n  render: function render() {\n    if (!this.props.documentNode || !this.props.documentNode.properties) {\n      return null;\n    }\n\n    return React.createElement(Article, this.props);\n  }\n});\n\n/*****************\n ** WEBPACK FOOTER\n ** ./packages/megadoc-plugin-markdown/ui/outlets/DocumentOutlet.js\n ** module id = 15\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./packages/megadoc-plugin-markdown/ui/outlets/DocumentOutlet.js?")},function(module,exports,__webpack_require__){eval("'use strict';\n\nvar React = __webpack_require__(5);\nvar HighlightedText = __webpack_require__(17);\nvar Disqus = __webpack_require__(18);\n\nvar _React$PropTypes = React.PropTypes,\n    shape = _React$PropTypes.shape,\n    string = _React$PropTypes.string,\n    object = _React$PropTypes.object,\n    oneOfType = _React$PropTypes.oneOfType,\n    bool = _React$PropTypes.bool;\n\n\nvar Article = React.createClass({\n  displayName: 'Article',\n\n  contextTypes: {\n    location: shape({ pathname: string }).isRequired,\n    config: shape({\n      disqus: oneOfType([bool, object])\n    }).isRequired\n  },\n\n  propTypes: {\n    documentNode: shape({\n      source: string\n    }).isRequired\n  },\n\n  render: function render() {\n    var article = this.props.documentNode.properties;\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        HighlightedText,\n        null,\n        article.source\n      ),\n      React.createElement(Disqus, {\n        identifier: article.id,\n        title: article.title,\n        pathname: this.context.location.pathname,\n        config: this.context.config.disqus || { enabled: false }\n      })\n    );\n  }\n});\n\nmodule.exports = Article;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./packages/megadoc-plugin-markdown/ui/components/Article.js\n ** module id = 16\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./packages/megadoc-plugin-markdown/ui/components/Article.js?")},function(module,exports){eval('module.exports = MEGADOC_PUBLIC_MODULES["components/HighlightedText"];\n\n/*****************\n ** WEBPACK FOOTER\n ** external "MEGADOC_PUBLIC_MODULES[\\"components/HighlightedText\\"]"\n ** module id = 17\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///external_%22MEGADOC_PUBLIC_MODULES%5B\\%22components/HighlightedText\\%22%5D%22?')},function(module,exports){eval('module.exports = MEGADOC_PUBLIC_MODULES["components/Disqus"];\n\n/*****************\n ** WEBPACK FOOTER\n ** external "MEGADOC_PUBLIC_MODULES[\\"components/Disqus\\"]"\n ** module id = 18\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///external_%22MEGADOC_PUBLIC_MODULES%5B\\%22components/Disqus\\%22%5D%22?')},function(module,exports,__webpack_require__){eval("'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = __webpack_require__(5);\nvar ArticleTOC = __webpack_require__(9);\nvar _React$PropTypes = React.PropTypes,\n    object = _React$PropTypes.object,\n    bool = _React$PropTypes.bool,\n    shape = _React$PropTypes.shape;\n\n\nmodule.exports = React.createClass({\n  displayName: 'exports',\n\n  propTypes: {\n    documentEntityNode: object,\n    documentNode: object.isRequired,\n    namespaceNode: object.isRequired,\n    $outletOptions: shape({\n      grouped: bool\n    })\n  },\n\n  statics: {\n    match: function match(props) {\n      return props.namespaceNode && props.namespaceNode.name === 'megadoc-plugin-markdown' && !!props.documentNode;\n    }\n  },\n\n  render: function render() {\n\n    return React.createElement(ArticleTOC, _extends({ flat: true, grouped: this.props.$outletOptions.grouped }, this.props));\n  }\n});\n\n/*****************\n ** WEBPACK FOOTER\n ** ./packages/megadoc-plugin-markdown/ui/outlets/DocumentTOCOutlet.js\n ** module id = 19\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./packages/megadoc-plugin-markdown/ui/outlets/DocumentTOCOutlet.js?")}]);